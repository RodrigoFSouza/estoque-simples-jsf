<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  template="WEB-INF/template/Layout.xhtml">
<ui:define name="titulo">
	Cadastro de Empresas
</ui:define>	  
	  
<ui:define name="conteudo">
  <h:form>
  	<!-- Toolbar -->
  	<p:toolbar>
  	 	<f:facet name="left">
		  		<p:inputText placeholder="Informe o termo da pesquisa" size="40" value="#{empresaBean.termoPesquisa}"/>
		  		
		  		<p:commandButton value="Pesquisar" icon="fa fa-search" actionListener="#{empresaBean.pesquisar}" update="empresasDataTable"/>
		  		
		  		<span class="ui-separator">
		  			<span class="ui-icon ui-icon-grip-dotted-vertical" />  			
		  		</span>
		  		
		  		<p:commandButton value="Nova" icon="fa fa-plus" onclick="PF('empresaDialogWidgetVar').show()"/>
		  		
		  		<span class="ui-separator">
		  			<span class="ui-icon ui-icon-grip-dotted-vertical" />  			
		  		</span>
		  		
		  		<p:commandButton value="Editar" icon="fa fa-edit"/>
		  		<p:commandButton value="Excluir" icon="fa fa-trash"/>
		  		
		  		<span class="ui-separator">
		  			<span class="ui-icon ui-icon-grip-dotted-vertical" />  			
		  		</span>
		  		<p:commandButton value="Exportar para o Excel" icon="fa fa-file-excel-o"/>  		
  	 	</f:facet>
  	</p:toolbar>  	
  	
  	<p:spacer height="30"></p:spacer>
  
  	<!-- Table -->
		<p:dataTable id="empresasDataTable" value="#{empresaBean.listaEmpresas}" var="empresa" emptyMessage="Nenhum resultado foi encontrado!"
			paginator="true" rows="10" paginatorPosition="bottom" sortBy="#{empresa.razaoSocial}">
			<p:column headerText="RazÃ£o Social">
				<h:outputText value="#{empresa.razaoSocial}" />
			</p:column>
			
			<p:column headerText="Nome Fantasia">
				<h:outputText value="#{empresa.nomeFantasia}" />
			</p:column>
			
			<p:column headerText="Tipo Empresa">
				<h:outputText value="#{empresa.tipo}" />
			</p:column>
			
			<p:column headerText="Ramo atividade">
				<h:outputText value="#{empresa.ramoAtividade.descricao}" />
			</p:column>
		</p:dataTable>
		
		<p:dialog header="Nova empresa" widgetVar="empresaDialogWidgetVar" modal="true" resizable="false" closOnEscape="true">
			<p:commandButton value="Teste!" />
		</p:dialog>
  </h:form>
</ui:define>

</ui:composition>